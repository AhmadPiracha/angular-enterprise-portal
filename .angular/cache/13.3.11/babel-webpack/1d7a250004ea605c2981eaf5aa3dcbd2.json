{"ast":null,"code":"/*\n * Application Insights JavaScript SDK - Web, 2.8.18\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\"use strict\";\n\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\nimport { AnalyticsPlugin } from \"@microsoft/applicationinsights-analytics-js\";\nimport { Sender } from \"@microsoft/applicationinsights-channel-js\";\nimport { AnalyticsPluginIdentifier, BreezeChannelIdentifier, ConfigurationManager, ConnectionStringParser, ContextTagKeys, CorrelationIdHelper, CtxTagKeys, DEFAULT_BREEZE_ENDPOINT, DEFAULT_BREEZE_PATH, Data, DataSanitizer, DateTimeUtils, DisabledPropertyName, DistributedTracingModes, Envelope, Event, Exception, Extensions, HttpMethod, Metric, PageView, PageViewPerformance, ProcessLegacy, PropertiesPluginIdentifier, RemoteDependencyData, RequestHeaders, SampleRate, SeverityLevel, TelemetryItemCreator, Trace, UrlHelper, Util, parseConnectionString } from \"@microsoft/applicationinsights-common\";\nimport { AppInsightsCore, _throwInternal, addPageHideEventListener, addPageUnloadEventListener, arrForEach, arrIndexOf, createUniqueNamespace, doPerf, hasDocument, hasWindow, isArray, isFunction, isNullOrUndefined, isReactNative, isString, mergeEvtNamespace, objForEachKey, proxyAssign, proxyFunctions, removePageHideEventListener, removePageUnloadEventListener, throwError } from \"@microsoft/applicationinsights-core-js\";\nimport { AjaxPlugin as DependenciesPlugin } from \"@microsoft/applicationinsights-dependencies-js\";\nimport { PropertiesPlugin } from \"@microsoft/applicationinsights-properties-js\";\nimport { STR_ADD_TELEMETRY_INITIALIZER, STR_CLEAR_AUTHENTICATED_USER_CONTEXT, STR_EVT_NAMESPACE, STR_FLUSH, STR_GET_COOKIE_MGR, STR_GET_PLUGIN, STR_POLL_INTERNAL_LOGS, STR_SET_AUTHENTICATED_USER_CONTEXT, STR_SNIPPET, STR_START_TRACK_EVENT, STR_START_TRACK_PAGE, STR_STOP_TRACK_EVENT, STR_STOP_TRACK_PAGE, STR_TRACK_DEPENDENCY_DATA, STR_TRACK_EVENT, STR_TRACK_EXCEPTION, STR_TRACK_METRIC, STR_TRACK_PAGE_VIEW, STR_TRACK_TRACE } from \"./InternalConstants\";\nimport { _DYN_ADD_HOUSEKEEPING_BEF20, _DYN_APP_INSIGHTS, _DYN_CONFIG, _DYN_CONNECTION_STRING, _DYN_CONTEXT, _DYN_DIAGNOSTIC_LOG_INTER4, _DYN_DISABLE_FLUSH_ON_BEF11, _DYN_DISABLE_FLUSH_ON_UNL12, _DYN_DISABLE_IKEY_DEPRECA18, _DYN_ENDPOINT_URL, _DYN_GET_TRANSMISSION_CON19, _DYN_INDEX_OF, _DYN_INSTRUMENTATION_KEY, _DYN_LOAD_APP_INSIGHTS, _DYN_ONUNLOAD_FLUSH, _DYN_PUSH, _DYN_QUEUE, _DYN_UPDATE_SNIPPET_DEFIN0, _DYN_VERSION } from \"./__DynamicConstants\";\n\nvar _internalSdkSrc; // This is an exclude list of properties that should not be updated during initialization\n// They include a combination of private and internal property names\n\n\nvar _ignoreUpdateSnippetProperties = [STR_SNIPPET, \"dependencies\", \"properties\", \"_snippetVersion\", \"appInsightsNew\", \"getSKUDefaults\"]; // Re-exposing the Common classes as Telemetry, the list was taken by reviewing the generated code for the build while using\n// the previous configuration :-\n// import * as Common from \"@microsoft/applicationinsights-common\"\n// export const Telemetry = Common;\n\nvar fieldType = {\n  Default: 0\n  /* FieldType.Default */\n  ,\n  Required: 1\n  /* FieldType.Required */\n  ,\n  Array: 2\n  /* FieldType.Array */\n  ,\n  Hidden: 4\n  /* FieldType.Hidden */\n\n};\n/**\r\n * Telemetry type classes, e.g. PageView, Exception, etc\r\n */\n\nexport var Telemetry = {\n  __proto__: null,\n  PropertiesPluginIdentifier: PropertiesPluginIdentifier,\n  BreezeChannelIdentifier: BreezeChannelIdentifier,\n  AnalyticsPluginIdentifier: AnalyticsPluginIdentifier,\n  Util: Util,\n  CorrelationIdHelper: CorrelationIdHelper,\n  UrlHelper: UrlHelper,\n  DateTimeUtils: DateTimeUtils,\n  ConnectionStringParser: ConnectionStringParser,\n  FieldType: fieldType,\n  RequestHeaders: RequestHeaders,\n  DisabledPropertyName: DisabledPropertyName,\n  ProcessLegacy: ProcessLegacy,\n  SampleRate: SampleRate,\n  HttpMethod: HttpMethod,\n  DEFAULT_BREEZE_ENDPOINT: DEFAULT_BREEZE_ENDPOINT,\n  Envelope: Envelope,\n  Event: Event,\n  Exception: Exception,\n  Metric: Metric,\n  PageView: PageView,\n  RemoteDependencyData: RemoteDependencyData,\n  Trace: Trace,\n  PageViewPerformance: PageViewPerformance,\n  Data: Data,\n  SeverityLevel: SeverityLevel,\n  ConfigurationManager: ConfigurationManager,\n  ContextTagKeys: ContextTagKeys,\n  DataSanitizer: DataSanitizer,\n  TelemetryItemCreator: TelemetryItemCreator,\n  CtxTagKeys: CtxTagKeys,\n  Extensions: Extensions,\n  DistributedTracingModes: DistributedTracingModes\n};\n/**\r\n * Application Insights API\r\n * @class Initialization\r\n * @implements {IApplicationInsights}\r\n */\n\nvar Initialization =\n/** @class */\nfunction () {\n  function Initialization(snippet) {\n    var _this = this; // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\n\n\n    var dependencies;\n    var properties;\n\n    var _sender;\n\n    var _snippetVersion;\n\n    var _evtNamespace;\n\n    var _houseKeepingNamespace;\n\n    var _core;\n\n    dynamicProto(Initialization, this, function (_self) {\n      _initDefaults(); // initialize the queue and config in case they are undefined\n\n\n      _snippetVersion = \"\" + (snippet.sv || snippet[_DYN_VERSION\n      /* @min:%2eversion */\n      ] || \"\");\n      snippet[_DYN_QUEUE\n      /* @min:%2equeue */\n      ] = snippet[_DYN_QUEUE\n      /* @min:%2equeue */\n      ] || [];\n      snippet[_DYN_VERSION\n      /* @min:%2eversion */\n      ] = snippet[_DYN_VERSION\n      /* @min:%2eversion */\n      ] || 2.0; // Default to new version\n\n      var config = snippet[_DYN_CONFIG\n      /* @min:%2econfig */\n      ] || {};\n\n      if (config[_DYN_CONNECTION_STRING\n      /* @min:%2econnectionString */\n      ]) {\n        var cs = parseConnectionString(config[_DYN_CONNECTION_STRING\n        /* @min:%2econnectionString */\n        ]);\n        var ingest = cs.ingestionendpoint;\n        config[_DYN_ENDPOINT_URL\n        /* @min:%2eendpointUrl */\n        ] = ingest ? ingest + DEFAULT_BREEZE_PATH : config[_DYN_ENDPOINT_URL\n        /* @min:%2eendpointUrl */\n        ]; // only add /v2/track when from connectionstring\n\n        config[_DYN_INSTRUMENTATION_KEY\n        /* @min:%2einstrumentationKey */\n        ] = cs.instrumentationkey || config[_DYN_INSTRUMENTATION_KEY\n        /* @min:%2einstrumentationKey */\n        ];\n      }\n\n      _self[_DYN_APP_INSIGHTS\n      /* @min:%2eappInsights */\n      ] = new AnalyticsPlugin();\n      properties = new PropertiesPlugin();\n      dependencies = new DependenciesPlugin();\n      _sender = new Sender();\n      _core = new AppInsightsCore();\n      _self.core = _core;\n      var isErrMessageDisabled = isNullOrUndefined(config[_DYN_DISABLE_IKEY_DEPRECA18\n      /* @min:%2edisableIkeyDeprecationMessage */\n      ]) ? true : config[_DYN_DISABLE_IKEY_DEPRECA18\n      /* @min:%2edisableIkeyDeprecationMessage */\n      ];\n\n      if (!config[_DYN_CONNECTION_STRING\n      /* @min:%2econnectionString */\n      ] && !isErrMessageDisabled) {\n        _throwInternal(_core.logger, 1\n        /* eLoggingSeverity.CRITICAL */\n        , 106\n        /* _eInternalMessageId.InstrumentationKeyDeprecation */\n        , \"Instrumentation key support will end soon, see aka.ms/IkeyMigrate\");\n      }\n\n      _self[STR_SNIPPET\n      /* @min:%2esnippet */\n      ] = snippet;\n      _self[_DYN_CONFIG\n      /* @min:%2econfig */\n      ] = config;\n\n      _getSKUDefaults();\n\n      _self[STR_FLUSH\n      /* @min:%2eflush */\n      ] = function (async) {\n        if (async === void 0) {\n          async = true;\n        }\n\n        doPerf(_core, function () {\n          return \"AISKU.flush\";\n        }, function () {\n          arrForEach(_core[_DYN_GET_TRANSMISSION_CON19\n          /* @min:%2egetTransmissionControls */\n          ](), function (channels) {\n            arrForEach(channels, function (channel) {\n              channel[STR_FLUSH\n              /* @min:%2eflush */\n              ](async);\n            });\n          });\n        }, null, async);\n      };\n\n      _self[_DYN_ONUNLOAD_FLUSH\n      /* @min:%2eonunloadFlush */\n      ] = function (async) {\n        if (async === void 0) {\n          async = true;\n        }\n\n        arrForEach(_core[_DYN_GET_TRANSMISSION_CON19\n        /* @min:%2egetTransmissionControls */\n        ](), function (channels) {\n          arrForEach(channels, function (channel) {\n            if (channel[_DYN_ONUNLOAD_FLUSH\n            /* @min:%2eonunloadFlush */\n            ]) {\n              channel[_DYN_ONUNLOAD_FLUSH\n              /* @min:%2eonunloadFlush */\n              ]();\n            } else {\n              channel[STR_FLUSH\n              /* @min:%2eflush */\n              ](async);\n            }\n          });\n        });\n      };\n\n      _self[_DYN_LOAD_APP_INSIGHTS\n      /* @min:%2eloadAppInsights */\n      ] = function (legacyMode, logger, notificationManager) {\n        if (legacyMode === void 0) {\n          legacyMode = false;\n        }\n\n        function _updateSnippetProperties(snippet) {\n          if (snippet) {\n            var snippetVer = \"\";\n\n            if (!isNullOrUndefined(_snippetVersion)) {\n              snippetVer += _snippetVersion;\n            }\n\n            if (legacyMode) {\n              snippetVer += \".lg\";\n            }\n\n            if (_self[_DYN_CONTEXT\n            /* @min:%2econtext */\n            ] && _self[_DYN_CONTEXT\n            /* @min:%2econtext */\n            ].internal) {\n              _self[_DYN_CONTEXT\n              /* @min:%2econtext */\n              ].internal.snippetVer = snippetVer || \"-\";\n            } // apply updated properties to the global instance (snippet)\n\n\n            objForEachKey(_self, function (field, value) {\n              if (isString(field) && !isFunction(value) && field && field[0] !== \"_\" && // Don't copy \"internal\" values\n              arrIndexOf(_ignoreUpdateSnippetProperties, field) === -1) {\n                snippet[field] = value;\n              }\n            });\n          }\n        } // dont allow additional channels/other extensions for legacy mode; legacy mode is only to allow users to switch with no code changes!\n\n\n        if (legacyMode && _self[_DYN_CONFIG\n        /* @min:%2econfig */\n        ].extensions && _self[_DYN_CONFIG\n        /* @min:%2econfig */\n        ].extensions.length > 0) {\n          throwError(\"Extensions not allowed in legacy mode\");\n        }\n\n        doPerf(_self.core, function () {\n          return \"AISKU.loadAppInsights\";\n        }, function () {\n          var extensions = [];\n\n          extensions[_DYN_PUSH\n          /* @min:%2epush */\n          ](_sender);\n\n          extensions[_DYN_PUSH\n          /* @min:%2epush */\n          ](properties);\n\n          extensions[_DYN_PUSH\n          /* @min:%2epush */\n          ](dependencies);\n\n          extensions[_DYN_PUSH\n          /* @min:%2epush */\n          ](_self[_DYN_APP_INSIGHTS\n          /* @min:%2eappInsights */\n          ]); // initialize core\n\n\n          _core.initialize(_self[_DYN_CONFIG\n          /* @min:%2econfig */\n          ], extensions, logger, notificationManager);\n\n          _self[_DYN_CONTEXT\n          /* @min:%2econtext */\n          ] = properties[_DYN_CONTEXT\n          /* @min:%2econtext */\n          ];\n\n          if (_internalSdkSrc && _self[_DYN_CONTEXT\n          /* @min:%2econtext */\n          ]) {\n            _self[_DYN_CONTEXT\n            /* @min:%2econtext */\n            ].internal.sdkSrc = _internalSdkSrc;\n          }\n\n          _updateSnippetProperties(_self[STR_SNIPPET\n          /* @min:%2esnippet */\n          ]); // Empty queue of all api calls logged prior to sdk download\n\n\n          _self.emptyQueue();\n\n          _self[STR_POLL_INTERNAL_LOGS\n          /* @min:%2epollInternalLogs */\n          ]();\n\n          _self[_DYN_ADD_HOUSEKEEPING_BEF20\n          /* @min:%2eaddHousekeepingBeforeUnload */\n          ](_self);\n        });\n        return _self;\n      };\n\n      _self[_DYN_UPDATE_SNIPPET_DEFIN0\n      /* @min:%2eupdateSnippetDefinitions */\n      ] = function (snippet) {\n        // apply full appInsights to the global instance\n        // Note: This must be called before loadAppInsights is called\n        proxyAssign(snippet, _self, function (name) {\n          // Not excluding names prefixed with \"_\" as we need to proxy some functions like _onError\n          return name && arrIndexOf(_ignoreUpdateSnippetProperties, name) === -1;\n        });\n      };\n\n      _self.emptyQueue = function () {\n        // call functions that were queued before the main script was loaded\n        try {\n          if (isArray(_self.snippet[_DYN_QUEUE\n          /* @min:%2equeue */\n          ])) {\n            // note: do not check length in the for-loop conditional in case something goes wrong and the stub methods are not overridden.\n            var length_1 = _self.snippet[_DYN_QUEUE\n            /* @min:%2equeue */\n            ].length;\n\n            for (var i = 0; i < length_1; i++) {\n              var call = _self.snippet[_DYN_QUEUE\n              /* @min:%2equeue */\n              ][i];\n              call();\n            }\n\n            _self.snippet[_DYN_QUEUE\n            /* @min:%2equeue */\n            ] = undefined;\n            delete _self.snippet[_DYN_QUEUE\n            /* @min:%2equeue */\n            ];\n          }\n        } catch (exception) {\n          var properties_1 = {};\n\n          if (exception && isFunction(exception.toString)) {\n            properties_1.exception = exception.toString();\n          } // need from core\n          // Microsoft.ApplicationInsights._InternalLogging.throwInternal(\n          //     eLoggingSeverity.WARNING,\n          //     _eInternalMessageId.FailedToSendQueuedTelemetry,\n          //     \"Failed to send queued telemetry\",\n          //     properties);\n\n        }\n      };\n\n      _self[_DYN_ADD_HOUSEKEEPING_BEF20\n      /* @min:%2eaddHousekeepingBeforeUnload */\n      ] = function (appInsightsInstance) {\n        // Add callback to push events when the user navigates away\n        if (hasWindow() || hasDocument()) {\n          var performHousekeeping = function () {\n            // Adds the ability to flush all data before the page unloads.\n            // Note: This approach tries to push a sync request with all the pending events onbeforeunload.\n            // Firefox does not respect this.Other browsers DO push out the call with < 100% hit rate.\n            // Telemetry here will help us analyze how effective this approach is.\n            // Another approach would be to make this call sync with a acceptable timeout to reduce the\n            // impact on user experience.\n            // appInsightsInstance.context._sender.triggerSend();\n            appInsightsInstance[_DYN_ONUNLOAD_FLUSH\n            /* @min:%2eonunloadFlush */\n            ](false); // Back up the current session to local storage\n            // This lets us close expired sessions after the cookies themselves expire\n\n\n            if (isFunction(_this.core[STR_GET_PLUGIN\n            /* @min:%2egetPlugin */\n            ])) {\n              var loadedPlugin = _this.core[STR_GET_PLUGIN\n              /* @min:%2egetPlugin */\n              ](PropertiesPluginIdentifier);\n\n              if (loadedPlugin) {\n                var propertiesPlugin = loadedPlugin.plugin;\n\n                if (propertiesPlugin && propertiesPlugin[_DYN_CONTEXT\n                /* @min:%2econtext */\n                ] && propertiesPlugin[_DYN_CONTEXT\n                /* @min:%2econtext */\n                ]._sessionManager) {\n                  propertiesPlugin[_DYN_CONTEXT\n                  /* @min:%2econtext */\n                  ]._sessionManager.backup();\n                }\n              }\n            }\n          };\n\n          var added = false;\n          var excludePageUnloadEvents = appInsightsInstance.appInsights[_DYN_CONFIG\n          /* @min:%2econfig */\n          ].disablePageUnloadEvents;\n\n          if (!_houseKeepingNamespace) {\n            _houseKeepingNamespace = mergeEvtNamespace(_evtNamespace, _core[STR_EVT_NAMESPACE\n            /* @min:%2eevtNamespace */\n            ] && _core[STR_EVT_NAMESPACE\n            /* @min:%2eevtNamespace */\n            ]());\n          }\n\n          if (!appInsightsInstance.appInsights.config[_DYN_DISABLE_FLUSH_ON_BEF11\n          /* @min:%2edisableFlushOnBeforeUnload */\n          ]) {\n            // Hook the unload event for the document, window and body to ensure that the client events are flushed to the server\n            // As just hooking the window does not always fire (on chrome) for page navigation's.\n            if (addPageUnloadEventListener(performHousekeeping, excludePageUnloadEvents, _houseKeepingNamespace)) {\n              added = true;\n            } // We also need to hook the pagehide and visibilitychange events as not all versions of Safari support load/unload events.\n\n\n            if (addPageHideEventListener(performHousekeeping, excludePageUnloadEvents, _houseKeepingNamespace)) {\n              added = true;\n            } // A reactNative app may not have a window and therefore the beforeunload/pagehide events -- so don't\n            // log the failure in this case\n\n\n            if (!added && !isReactNative()) {\n              _throwInternal(appInsightsInstance[_DYN_APP_INSIGHTS\n              /* @min:%2eappInsights */\n              ].core.logger, 1\n              /* eLoggingSeverity.CRITICAL */\n              , 19\n              /* _eInternalMessageId.FailedToAddHandlerForOnBeforeUnload */\n              , \"Could not add handler for beforeunload and pagehide\");\n            }\n          }\n\n          if (!added && !appInsightsInstance.appInsights.config[_DYN_DISABLE_FLUSH_ON_UNL12\n          /* @min:%2edisableFlushOnUnload */\n          ]) {\n            // If we didn't add the normal set then attempt to add the pagehide and visibilitychange only\n            addPageHideEventListener(performHousekeeping, excludePageUnloadEvents, _houseKeepingNamespace);\n          }\n        }\n      };\n\n      _self.getSender = function () {\n        return _sender;\n      };\n\n      _self.unload = function (isAsync, unloadComplete, cbTimeout) {\n        _self[_DYN_ONUNLOAD_FLUSH\n        /* @min:%2eonunloadFlush */\n        ](isAsync); // Remove any registered event handlers\n\n\n        if (_houseKeepingNamespace) {\n          removePageUnloadEventListener(null, _houseKeepingNamespace);\n          removePageHideEventListener(null, _houseKeepingNamespace);\n        }\n\n        _core.unload && _core.unload(isAsync, unloadComplete, cbTimeout);\n      };\n\n      proxyFunctions(_self, _self[_DYN_APP_INSIGHTS\n      /* @min:%2eappInsights */\n      ], [STR_GET_COOKIE_MGR, STR_TRACK_EVENT, STR_TRACK_PAGE_VIEW, \"trackPageViewPerformance\", STR_TRACK_EXCEPTION, \"_onerror\", STR_TRACK_TRACE, STR_TRACK_METRIC, STR_START_TRACK_PAGE, STR_STOP_TRACK_PAGE, STR_START_TRACK_EVENT, STR_STOP_TRACK_EVENT]);\n      proxyFunctions(_self, _getCurrentDependencies, [STR_TRACK_DEPENDENCY_DATA, \"addDependencyListener\", \"addDependencyInitializer\"]);\n      proxyFunctions(_self, _core, [STR_ADD_TELEMETRY_INITIALIZER, STR_POLL_INTERNAL_LOGS, \"stopPollingInternalLogs\", STR_GET_PLUGIN, \"addPlugin\", STR_EVT_NAMESPACE, \"addUnloadCb\", \"getTraceCtx\"]);\n      proxyFunctions(_self, function () {\n        var context = properties[_DYN_CONTEXT\n        /* @min:%2econtext */\n        ];\n        return context ? context.user : null;\n      }, [STR_SET_AUTHENTICATED_USER_CONTEXT, STR_CLEAR_AUTHENTICATED_USER_CONTEXT]);\n\n      function _getSKUDefaults() {\n        _self.config[_DYN_DIAGNOSTIC_LOG_INTER4\n        /* @min:%2ediagnosticLogInterval */\n        ] = _self.config[_DYN_DIAGNOSTIC_LOG_INTER4\n        /* @min:%2ediagnosticLogInterval */\n        ] && _self[_DYN_CONFIG\n        /* @min:%2econfig */\n        ][_DYN_DIAGNOSTIC_LOG_INTER4\n        /* @min:%2ediagnosticLogInterval */\n        ] > 0 ? _self[_DYN_CONFIG\n        /* @min:%2econfig */\n        ][_DYN_DIAGNOSTIC_LOG_INTER4\n        /* @min:%2ediagnosticLogInterval */\n        ] : 10000;\n      } // Using a function to support the dynamic adding / removal of plugins, so this will always return the current value\n\n\n      function _getCurrentDependencies() {\n        return dependencies;\n      }\n\n      function _initDefaults() {\n        _evtNamespace = createUniqueNamespace(\"AISKU\");\n        _houseKeepingNamespace = null;\n        dependencies = null;\n        properties = null;\n        _sender = null;\n        _snippetVersion = null;\n      }\n    });\n  } // Analytics Plugin\n  // Removed Stub for Initialization.prototype.getCookieMgr.\n  // Removed Stub for Initialization.prototype.trackEvent.\n  // Removed Stub for Initialization.prototype.trackPageView.\n  // Removed Stub for Initialization.prototype.trackPageViewPerformance.\n  // Removed Stub for Initialization.prototype.trackException.\n  // Removed Stub for Initialization.prototype._onerror.\n  // Removed Stub for Initialization.prototype.trackTrace.\n  // Removed Stub for Initialization.prototype.trackMetric.\n  // Removed Stub for Initialization.prototype.startTrackPage.\n  // Removed Stub for Initialization.prototype.stopTrackPage.\n  // Removed Stub for Initialization.prototype.startTrackEvent.\n  // Removed Stub for Initialization.prototype.stopTrackEvent.\n  // Removed Stub for Initialization.prototype.addTelemetryInitializer.\n  // Properties Plugin\n  // Removed Stub for Initialization.prototype.setAuthenticatedUserContext.\n  // Removed Stub for Initialization.prototype.clearAuthenticatedUserContext.\n  // Dependencies Plugin\n  // Removed Stub for Initialization.prototype.trackDependencyData.\n  // Misc\n  // Removed Stub for Initialization.prototype.flush.\n  // Removed Stub for Initialization.prototype.onunloadFlush.\n  // Removed Stub for Initialization.prototype.loadAppInsights.\n  // Removed Stub for Initialization.prototype.updateSnippetDefinitions.\n  // Removed Stub for Initialization.prototype.emptyQueue.\n  // Removed Stub for Initialization.prototype.pollInternalLogs.\n  // Removed Stub for Initialization.prototype.stopPollingInternalLogs.\n  // Removed Stub for Initialization.prototype.addHousekeepingBeforeUnload.\n  // Removed Stub for Initialization.prototype.getSender.\n  // Removed Stub for Initialization.prototype.unload.\n  // Removed Stub for Initialization.prototype.getPlugin.\n  // Removed Stub for Initialization.prototype.addPlugin.\n  // Removed Stub for Initialization.prototype.evtNamespace.\n  // Removed Stub for Initialization.prototype.addUnloadCb.\n  // Removed Stub for Initialization.prototype.addDependencyListener.\n\n  /**\r\n   * Add an dependency telemetry initializer callback function to allow populating additional properties or drop the request.\r\n   * It is called after the dependency call has completed and any available performance details are available. A dependency\r\n   * initializer is similar to the TelemetryInitializer function but it allows you to block the reporting of the dependency\r\n   * request so that it doesn't count against the `maxAjaxCallsPerView`.\r\n   * @param dependencyInitializer - The Dependency Telemetry Initializer function\r\n   * @returns - A IDependencyInitializerHandler to enable the initializer to be removed\r\n   */\n\n\n  Initialization.prototype.addDependencyInitializer = function (dependencyInitializer) {\n    return null;\n  }; // Removed Stub for Initialization.prototype.getTraceCtx.\n\n\n  return Initialization;\n}();\n\nexport { Initialization }; // tslint:disable-next-line\n\n(function () {\n  var sdkSrc = null;\n  var isModule = false;\n  var cdns = [\"://js.monitor.azure.com/\", \"://az416426.vo.msecnd.net/\"];\n\n  try {\n    // Try and determine whether the sdk is being loaded from the CDN\n    // currentScript is only valid during initial processing\n    var scrpt = (document || {}).currentScript;\n\n    if (scrpt) {\n      sdkSrc = scrpt.src; // } else {\n      //     // We need to update to at least typescript 2.9 for this to work :-(\n      //     // Leaving as a stub for now so after we upgrade this breadcrumb is available\n      //     let meta = import.meta;\n      //     sdkSrc = (meta || {}).url;\n      //     isModule = true;\n    }\n  } catch (e) {// eslint-disable-next-line no-empty\n  }\n\n  if (sdkSrc) {\n    try {\n      var url = sdkSrc.toLowerCase();\n\n      if (url) {\n        var src = \"\";\n\n        for (var idx = 0; idx < cdns.length; idx++) {\n          if (url[_DYN_INDEX_OF\n          /* @min:%2eindexOf */\n          ](cdns[idx]) !== -1) {\n            src = \"cdn\" + (idx + 1);\n\n            if (url[_DYN_INDEX_OF\n            /* @min:%2eindexOf */\n            ](\"/scripts/\") === -1) {\n              if (url[_DYN_INDEX_OF\n              /* @min:%2eindexOf */\n              ](\"/next/\") !== -1) {\n                src += \"-next\";\n              } else if (url[_DYN_INDEX_OF\n              /* @min:%2eindexOf */\n              ](\"/beta/\") !== -1) {\n                src += \"-beta\";\n              }\n            }\n\n            _internalSdkSrc = src + (isModule ? \".mod\" : \"\");\n            break;\n          }\n        }\n      }\n    } catch (e) {// eslint-disable-next-line no-empty\n    }\n  }\n})(); //# sourceMappingURL=Initialization.js.map","map":null,"metadata":{},"sourceType":"module"}